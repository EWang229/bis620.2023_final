---
title: "BIS 620 Final (Using bis620.23 package)"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{bis620-final}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(bis620.2023)
```

# Background and Motivation

The dataset was provided by Dr. John Schorling from the University of Virginia School of Medicine. It features several attributes of 403 subjects and revolves around understanding the prevalence of obesity, diabetes, and other cardiovascular risk factors; more specifically, it focuses on African Americans that were sampled from central Virginia. The reason for the race distinction is because coronary heart disease (CHD) remains the most common cause of death among African Americans, and the difference in CHD mortality rates between African Americans and other races is only growing.

Our analysis will take a slight turn and focus primarily on features related to type II diabetes. This is an incredibly important topic as diabetes are incurable and impacts the lives of millions of people worldwide. Being able to pinpoint or even just analyze variables that relate to diabetes will be extremely beneficial for developing preventative measures towards diabetes. Fortunately, the dataset provides enough biomedical data for this to be possible. The study will primarily revolve around 3 predictor variables: living location, body frame, and cholesterol to high-density lipoprotein (HDL) ratio. The choice of cholesterol to HDL ratio come from a research paper that suggested lower levels of lipoprotein have been associated with greater prevalence of type 2 diabetes. I hypothesize that the mean of the response variable, glyhb, will be significantly different among the body frame variables AND the location variables due to differences in diet and culture in different areas. Moreover, I hypothesize that cholesterol to HDL ratio will be predictive of glyhb scores since there is research that suggests that this is the case (it would be nice to provide some statistical confirmation on this research. especially since I do not understand most of the science/biology behind it).

`glycosolated hemoglobin (glyhb)`: Glyhb levels above 7 are considered to be a positive type II diabetes diagnosis.

# The Research Question

Given the above information, my research question is this:  
  
**How does body size and living area affect one’s glycosolated hemoglobin (glyhb) levels, and are cholesterol to HDL ratios significantly predictive of glyhb levels? (note that a glyhb score > 7 is taken as a positive diagnosis of type II diabetes).**

*Note: The data only contains African American patients from Louisa and Burmingham, so I will avoid making sweeping generalizations in my results. Moreover, we will assume that Dr. John Schorling's data was properly (randomly) sampled.*

# Data Cleaning and Exploration

The first step I will do before beginning my analysis is cleaning the data. Fortunately, the dataset was recorded quite well, and the only thing we need to do is take out columns that are NA or missing. Then, we simply select our variables of interest. My clean_data() function will do all of that for me below.

```{r}
data(diabetes)
diabetes <- clean_data(diabetes)  # function will clean my data for me
```


Histograms

Histograms are useful in identifying the distribution of numerical variables. They are the barplot version for continuous data. A histogram was used in order to analyze the distribution of the response variable and the numerical predictor variable. It is evident that the response variable, glyhb, is right skewed; however, the Central Limit Theorem will take care of the normality assumption. The numerical predictor variable, cholesterol to HDL ratio, looks almost normally distributed. For our study’s purposes, the predictor does (glyhb) not need to be normally distributed, but it is useful to look at its distribution to get a feel for the data. I will run my explore_hist() function to look at the histograms of the quantitative variables, glyhb and ratio.

```{r}
par(mfrow = c(1, 2))
explore_hist(diabetes)
```

As we can see, 


